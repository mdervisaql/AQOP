# ğŸ“„ Lead Detail Page - Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© Ù„Ù„Ø¹Ù…ÙŠÙ„
## ØªØ­Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ ÙˆØ­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„

**Ø§Ù„ØµÙØ­Ø©:** `/wp-admin/admin.php?page=aqop-leads-view&lead_id=ID`  
**Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:**
- `admin/views/lead-detail.php` - ÙˆØ§Ø¬Ù‡Ø© HTML
- `admin/js/lead-detail.js` - Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª
- `includes/class-lead-details-handler.php` - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

---

## ğŸ“‹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙˆØ§Ù„Ù…ÙƒÙˆÙ†Ø§Øª

### 1. **Lead Score Card** - Ø¨Ø·Ø§Ù‚Ø© Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Lead Score                  â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚     â”‚     75       â”‚  â† Score      â”‚
â”‚     â”‚    COLD      â”‚  â† Rating     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚   Last updated: Date               â”‚
â”‚   [Recalculate Button]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©:**
- `lead_score` - Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ (0-100)
- `lead_rating` - Ø§Ù„ØªØµÙ†ÙŠÙ (COLD, WARM, HOT, etc)
- `score_updated_at` - Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… Ø¹Ø±Ø¶ Ø§Ù„Ø¯Ø±Ø¬Ø© Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ø±ÙŠ
- âœ… Ø¹Ø±Ø¶ Ø§Ù„ØªØµÙ†ÙŠÙ Ø¨Ø£Ù„ÙˆØ§Ù† Ù…Ø®ØªÙ„ÙØ©
- âœ… Ø²Ø± Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯Ø±Ø¬Ø© (AJAX)

---

### 2. **Contact Information** - Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Contact Information             â”‚
â”‚                                     â”‚
â”‚  Email:    john@example.com         â”‚
â”‚  Phone:    +966501234567           â”‚
â”‚  WhatsApp: +966501234567 [Link]    â”‚
â”‚  Country:  Saudi Arabia             â”‚
â”‚  Source:   Facebook Ads             â”‚
â”‚  Campaign: Q1 Campaign              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©:**
- `email` - Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
- `phone` - Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
- `whatsapp` - Ø±Ù‚Ù… WhatsApp
- `country_name_en/ar` - Ø§Ù„Ø¯ÙˆÙ„Ø©
- `source_name` - Ù…ØµØ¯Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„
- `campaign_id` - Ø§Ù„Ø­Ù…Ù„Ø©

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… Ø±ÙˆØ§Ø¨Ø· Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ù†Ù‚Ø± (email, phone, WhatsApp)
- âœ… Ø¹Ø±Ø¶ ÙˆØ§ØªØ³ Ø§Ø¨ Ù…Ø¹ Ø±Ø§Ø¨Ø· wa.me
- âœ… Ø¯Ø¹Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©

---

### 3. **Lead Details** - ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Lead Details                  â”‚
â”‚                                     â”‚
â”‚  Priority:       ğŸ”´ URGENT         â”‚
â”‚  Assigned To:    [Avatar] Ahmed    â”‚
â”‚  Last Contact:   5 days ago        â”‚
â”‚  Airtable ID:    rec123456789 âœ“    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©:**
- `priority` - Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© (low, medium, high, urgent)
- `assigned_to` - Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹ÙŠÙ‘Ù†
- `assigned_user_name` - Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- `last_contact_at` - Ø¢Ø®Ø± Ø§ØªØµØ§Ù„
- `airtable_record_id` - Ù…Ø¹Ø±Ù‘Ù Airtable (Ø¥Ù† ÙˆØ¬Ø¯)

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… Ø£Ù„ÙˆØ§Ù† Ù…Ø®ØªÙ„ÙØ© Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©
- âœ… ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Avatar)
- âœ… Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Airtable

---

### 4. **Notes & Activity** - Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø©
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Notes & Activity (5)             â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€ Add New Note â”€â”€â”€â”            â”‚
â”‚  â”‚ [Text Area]        â”‚            â”‚
â”‚  â”‚ [Add Note Button]  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                     â”‚
â”‚  Note 1: "Interested in product"    â”‚
â”‚  â””â”€ By Ahmed, 2 days ago           â”‚
â”‚     [Edit] [Delete]                â”‚
â”‚                                     â”‚
â”‚  Note 2: "Follow-up needed"        â”‚
â”‚  â””â”€ By Fatima, 1 week ago          â”‚
â”‚     [Edit] [Delete]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø© (AJAX)
- âœ… ØªØ¹Ø¯ÙŠÙ„ Ù…Ù„Ø§Ø­Ø¸Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© (AJAX)
- âœ… Ø­Ø°Ù Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ø¹ ØªØ£ÙƒÙŠØ¯
- âœ… Ø¹Ø±Ø¶ ØµØ§Ø­Ø¨ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© ÙˆØ§Ù„ØªØ§Ø±ÙŠØ®

---

### 5. **Sidebar - Quick Actions** - Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Quick Actions         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Send Email]             â”‚
â”‚ [Call Lead]              â”‚
â”‚ [Open WhatsApp Chat] âœ“   â”‚
â”‚ [Upload Screenshot]      â”‚
â”‚ [Update Status]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
- âœ… Ù…Ø­Ø§ÙƒØ§Ø© Ù…ÙƒØ§Ù„Ù…Ø©
- âœ… ÙØªØ­ Ù…Ø­Ø§Ø¯Ø«Ø© WhatsApp
- âœ… ØªØ­Ù…ÙŠÙ„ Ù„Ù‚Ø·Ø© Ø´Ø§Ø´Ø©
- âœ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©

---

### 6. **WhatsApp Chat Integration** - ØªÙƒØ§Ù…Ù„ Ù…Ø­Ø§Ø¯Ø«Ø© WhatsApp
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      WhatsApp Chat                  â”‚
â”‚   ğŸ“ +966501234567                  â”‚
â”‚   â— Live                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  No messages yet.                   â”‚
â”‚  Start the conversation!            â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Type a message...       [>>] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:**
- âœ… Ø¹Ø±Ø¶ Ù…Ø­Ø§Ø¯Ø«Ø© WhatsApp Ù…Ø¨Ø§Ø´Ø±Ø©
- âœ… Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ (Live/Offline)
- âœ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…

---

## ğŸ”´ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø© ÙˆØ­Ù„ÙˆÙ„Ù‡Ø§

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© 1: **WhatsApp Chat Ù„Ø§ ÙŠØ¹Ù…Ù„ Ø£Ùˆ Ù„Ø§ ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„**

**Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©:**
1. Ø¹Ø¯Ù… ØªØ«Ø¨ÙŠØª WhatsApp API integration Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
2. ØªÙˆÙƒÙ† WhatsApp Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„Ù‡ ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
3. Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø¨ØµÙŠØºØ© Ø®Ø§Ø·Ø¦Ø©

**Ø§Ù„Ø­Ù„:**
```php
// ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ù„Ù:
wp-content/plugins/aqop-leads/includes/integrations/class-whatsapp-integration.php

// ØªØ£ÙƒØ¯ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·ÙˆØ§Øª:
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Settings â†’ WhatsApp
2. ØªØ­Ù‚Ù‚ Ù…Ù† WhatsApp Business Account Token
3. ØªØ­Ù‚Ù‚ Ù…Ù† Phone Number ID
4. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ø±Ù‚Ù… Ø¨Ø§Ù„Ø­Ø³Ø§Ø¨
```

**Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„ØªØ­Ù‚Ù‚:**
```php
// ÙÙŠ admin/views/lead-detail.php
if (!empty($lead->whatsapp)) {
    // ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„ØªÙˆÙƒÙ†
    $whatsapp_token = get_option('aqop_whatsapp_token');
    if (empty($whatsapp_token)) {
        echo 'WhatsApp integration not configured. Please add token in settings.';
    }
}
```

---

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© 2: **Lead Score Ù„Ø§ ÙŠØ­Ø¯Ù‘Ø« Ø£Ùˆ Ø§Ù„Ø²Ø± "Recalculate" Ù„Ø§ ÙŠØ¹Ù…Ù„**

**Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©:**
1. Ø¯Ø§Ù„Ø© Recalculate ØºÙŠØ± Ù…Ù†ÙØ°Ø© ÙÙŠ API
2. Ù†Ù‚Øµ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
3. Ù…Ø´ÙƒÙ„Ø© ÙÙŠ AJAX call

**Ø§Ù„Ø­Ù„:**
```javascript
// ØªØ­Ù‚Ù‚ Ù…Ù† console Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ (F12)
console.log('Recalculate button clicked');

// ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯:
1. aqopLeads.root (Base API URL)
2. aqopLeads.nonce (Security token)
3. Permission: manage_leads capability
```

**Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ø¥ØµÙ„Ø§Ø­:**
```php
// ÙÙŠ api/class-leads-api.php Ø£Ø¶Ù:
public function recalculate_score() {
    $lead_id = absint($_POST['lead_id'] ?? 0);
    
    if (!$lead_id) {
        return new WP_Error('invalid_lead', 'Invalid lead ID');
    }
    
    // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
    if (!current_user_can('manage_leads')) {
        return new WP_Error('unauthorized', 'No permission');
    }
    
    // Ø£Ø¹Ø¯ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯Ø±Ø¬Ø©
    $score = AQOP_Lead_Scoring::calculate_score($lead_id);
    
    return array('success' => true, 'score' => $score);
}
```

---

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© 3: **Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„Ø§ ØªØ­ÙØ¸ Ø£Ùˆ Ù„Ø§ ØªØ¸Ù‡Ø±**

**Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©:**
1. Ø®Ø·Ø£ ÙÙŠ Ø¬Ø¯ÙˆÙ„ `wp_aq_leads_notes`
2. Ù†Ù‚Øµ ØµÙ„Ø§Ø­ÙŠØ§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
3. Ù…Ø´ÙƒÙ„Ø© ÙÙŠ AJAX nonce

**Ø§Ù„Ø­Ù„:**
```php
// ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù…ÙˆØ¬ÙˆØ¯:
SELECT * FROM wp_aq_leads_notes LIMIT 1;

// Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙØ§Ø±ØºØ§Ù‹ØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù€ Installer Ù‚Ø¯ Ø¹Ù…Ù„:
wp-content/plugins/aqop-leads/includes/class-leads-installer.php
```

**Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„ØªØµØ­ÙŠØ­:**
```php
// ÙÙŠ admin-ajax.php handlers
add_action('wp_ajax_aqop_add_note', function() {
    $lead_id = absint($_POST['lead_id'] ?? 0);
    $note_text = sanitize_text_field($_POST['note_text'] ?? '');
    
    // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù€ Nonce
    if (!isset($_POST['nonce']) || !wp_verify_nonce($_POST['nonce'], 'aqop_add_note')) {
        wp_send_json_error('Invalid security token');
    }
    
    if (empty($note_text)) {
        wp_send_json_error('Note cannot be empty');
    }
    
    // Ø£Ø¶Ù Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©
    global $wpdb;
    $result = $wpdb->insert(
        $wpdb->prefix . 'aq_leads_notes',
        [
            'lead_id' => $lead_id,
            'user_id' => get_current_user_id(),
            'note_text' => $note_text,
            'created_at' => current_time('mysql'),
        ]
    );
    
    wp_send_json_success('Note added');
});
```

---

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© 4: **Status Update Ù„Ø§ ÙŠØ¹Ù…Ù„**

**Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©:**
1. Ø§Ù„Ø­Ù‚Ù„ `status_id` ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
2. Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª/Ø§Ù„ØµÙˆØ±
3. Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø±Ù‘ÙØ§Øª Ø§Ù„Ø­Ø§Ù„Ø§Øª

**Ø§Ù„Ø­Ù„:**
```php
// ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:
SELECT * FROM wp_aq_leads_status;

// ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:
- 1: Pending (Ù…Ø¹Ù„Ù‚)
- 2: Contacted (ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„)
- 3: Qualified (Ù…Ø¤Ù‡Ù„)
- 4: Converted (Ù…Ø­ÙˆÙ„)
- 5: Lost (Ø®Ø§Ø³Ø±)
```

---

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© 5: **Airtable Record ID Ù„Ø§ ÙŠØ¸Ù‡Ø± Ø£Ùˆ ØºÙŠØ± ØµØ­ÙŠØ­**

**Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©:**
1. Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Airtable Ù„Ù… ØªØ­Ø¯Ø«
2. ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Airtable API
3. API Key Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©

**Ø§Ù„Ø­Ù„:**
```php
// ØªØ­Ù‚Ù‚ Ù…Ù† Ø³Ø¬Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:
wp-content/plugins/aqop-leads/includes/class-airtable-sync.php

// ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:
Settings â†’ Airtable Settings
- API Key: âœ“ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ØµØ­ÙŠØ­
- Base ID: âœ“ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ØµØ­ÙŠØ­
- Table Name: âœ“ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ØµØ­ÙŠØ­
```

**Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„ØªØ­Ù‚Ù‚:**
```php
// Ø§Ø®ØªØ¨Ø± Ø§Ù„Ø§ØªØµØ§Ù„:
$sync = new AQOP_Airtable_Sync();
$test = $sync->test_sync_from_airtable();

if (is_wp_error($test)) {
    echo 'Error: ' . $test->get_error_message();
} else {
    echo 'Sync working correctly';
}
```

---

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© 6: **Ù‚Ø³Ù… Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (Sidebar) Ù…ÙÙ‚ÙˆØ¯ Ø£Ùˆ Ù„Ø§ ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø£Ø²Ø±Ø§Ø±**

**Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©:**
1. CSS Ù„Ù… ÙŠØªØ­Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
2. JavaScript Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±
3. Ø§Ù„Ù…ÙŠØ²Ø§Øª Ù„Ù… ØªØ·Ø¨Ù‚ Ø¨Ø¹Ø¯

**Ø§Ù„Ø­Ù„:**
```javascript
// ØªØ­Ù‚Ù‚ Ù…Ù† console (F12):
console.log('aqop-frontend structure loaded?');

// ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠØ¹Ù…Ù„:
wp-content/plugins/aqop-leads/admin/css/lead-detail.css
wp-content/plugins/aqop-leads/admin/js/lead-detail.js
```

---

## âœ… Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ­Ù‚Ù‚ (Checklist)

```
Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:
â˜ WhatsApp API Token Ù…Ø¯Ø®Ù„
â˜ Airtable API Key Ù…Ø¯Ø®Ù„
â˜ Airtable Base ID ØµØ­ÙŠØ­
â˜ Airtable Table Name ØµØ­ÙŠØ­

Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:
â˜ Ø¬Ø¯ÙˆÙ„ wp_aq_leads Ù…ÙˆØ¬ÙˆØ¯
â˜ Ø¬Ø¯ÙˆÙ„ wp_aq_leads_notes Ù…ÙˆØ¬ÙˆØ¯
â˜ Ø¬Ø¯ÙˆÙ„ wp_aq_leads_status Ù…ÙˆØ¬ÙˆØ¯
â˜ Ø¬Ø¯ÙˆÙ„ wp_aq_leads_sources Ù…ÙˆØ¬ÙˆØ¯

Ø§Ù„Ø£Ù…Ø§Ù†:
â˜ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø¯ÙŠÙ‡ capability manage_leads
â˜ Nonce tokens ØµØ­ÙŠØ­Ø©
â˜ CSRF protection Ù…ÙØ¹Ù‘Ù„

Ø§Ù„Ø£Ø¯Ø§Ø¡:
â˜ Ø§Ù„ØµÙØ­Ø© ØªØ­Ù…ÙŠÙ„ ÙÙŠ Ø£Ù‚Ù„ Ù…Ù† 2 Ø«Ø§Ù†ÙŠØ©
â˜ AJAX calls Ø³Ø±ÙŠØ¹Ø© (< 1s)
â˜ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Console

Ø§Ù„ÙˆØ¸Ø§Ø¦Ù:
â˜ Lead Score ÙŠØ­Ø¯Ù‘Ø«
â˜ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ØªØ­ÙØ¸ ÙˆØªØ¹Ø¯Ù„
â˜ WhatsApp Chat ÙŠØ¹Ù…Ù„
â˜ Airtable Sync ÙŠØ¹Ù…Ù„
â˜ Status Update ÙŠØ¹Ù…Ù„
```

---

## ğŸ”§ Ø®Ø·ÙˆØ§Øª ØªØ´Ø®ÙŠØµ Ø³Ø±ÙŠØ¹Ø©

### Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ØµÙØ­Ø© Ù„Ø§ ØªØ­Ù…Ù„:
```
1. Ø§ÙØªØ­ Console (F12)
2. Ø§Ø¨Ø­Ø« Ø¹Ù† JavaScript errors
3. ØªØ­Ù‚Ù‚ Ù…Ù† Network tab Ù„Ù„Ù€ AJAX requests
4. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† lead_id ØµØ­ÙŠØ­ ÙÙŠ URL
```

### Ø¥Ø°Ø§ Ù„Ù… ØªØ¹Ù…Ù„ Ù…ÙŠØ²Ø© Ù…Ø¹ÙŠÙ†Ø©:
```
1. Ø§ÙØªØ­ Console
2. Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£Ø®Ø·Ø§Ø¡ AJAX
3. ØªØ­Ù‚Ù‚ Ù…Ù† Response Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
4. Ø§Ø·Ù‘Ù„Ø¹ Ø¹Ù„Ù‰ error logs: wp-content/debug.log
```

### Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ØµÙØ­Ø© Ø¨Ø·ÙŠØ¦Ø©:
```
1. Ø§Ø³ØªØ®Ø¯Ù… Performance tab ÙÙŠ DevTools
2. Ø§Ø¨Ø­Ø« Ø¹Ù† database queries Ø§Ù„Ø¨Ø·ÙŠØ¦Ø©
3. ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¬Ù… Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Pagination)
4. ÙØ¹Ù‘Ù„ caching (Redis Ø£Ùˆ Memcached)
```

---

## ğŸ“ Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙŠ ØªÙˆØ§Ø¬Ù‡Ù‡Ø§ ØªØ­Ø¯ÙŠØ¯Ø§Ù‹ØŸ

Ø£Ø®Ø¨Ø±Ù†ÙŠ:
1. **Ø£ÙŠ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ù„Ø§ ÙŠØ¹Ù…Ù„ØŸ** (WhatsApp, Score, Notes, etc)
2. **Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ (Ø¥Ù† ÙˆØ¬Ø¯Øª)?**
3. **Ù…ØªÙ‰ Ø­Ø¯Ø«Øª Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŸ** (Ø¨Ø¹Ø¯ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø¨Ø§Ø´Ø±Ø© Ø£Ù… Ø¨Ø¹Ø¯ ÙØªØ±Ø©ØŸ)
4. **Ù‡Ù„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙƒØ§Ù…Ù„Ø©ØŸ** (WhatsApp, Airtable, Ø¥Ù„Ø®)

Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§ØªØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø¨Ø¯Ù‚Ø© ÙˆØ­Ù„Ù‡Ø§.

---

**ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:** 7 ÙØ¨Ø±Ø§ÙŠØ± 2026  
**Ø§Ù„Ø­Ø§Ù„Ø©:** Ù…Ø¹Ø¯ Ù„Ù„ØªØµØ­ÙŠØ­ ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†
