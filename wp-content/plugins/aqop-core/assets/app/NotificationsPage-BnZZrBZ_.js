import{j as e}from"./query-vendor-CG4xf7JE.js";import{r as d,L as n}from"./react-vendor-Ch0kAUMy.js";import{a as c}from"./index-DcCoICHm.js";import{f as x,a as m}from"./ar-C-aLhSM3.js";function j(){const{notifications:l,fetchNotifications:a,markAsRead:t,markAllAsRead:i,loading:r}=c();return d.useEffect(()=>{a(1)},[a]),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),e.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Mark All as Read"})]}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:l.length>0?l.map(s=>e.jsx("li",{className:`${s.is_read?"":"bg-blue-50"}`,children:e.jsx("div",{className:"block hover:bg-gray-50",children:e.jsxs("div",{className:"px-4 py-4 sm:px-6 flex items-center justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs(n,{to:s.action_url||"#",onClick:()=>!s.is_read&&t(s.id),className:"block focus:outline-none",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:s.title}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:s.notification_type})})]}),e.jsxs("div",{className:"mt-2 flex justify-between",children:[e.jsx("div",{className:"sm:flex",children:e.jsx("p",{className:"flex items-center text-sm text-gray-500",children:s.message})}),e.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:e.jsx("p",{children:x(new Date(s.created_at),{addSuffix:!0,locale:m})})})]})]})}),e.jsx("div",{className:"ml-5 flex-shrink-0",children:!s.is_read&&e.jsx("button",{onClick:()=>t(s.id),className:"text-gray-400 hover:text-gray-500",title:"Mark as read",children:e.jsx("span",{className:"h-2 w-2 bg-blue-600 rounded-full inline-block"})})})]})})},s.id)):e.jsx("li",{className:"px-4 py-8 text-center text-gray-500",children:r?"Loading...":"No notifications found"})})})]})}export{j as default};
