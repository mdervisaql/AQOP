import{j as e}from"./query-vendor-CG4xf7JE.js";import{r as l}from"./react-vendor-Ch0kAUMy.js";const N="https://operation.aqleeat.co/wp-json",w=async s=>{const m=`${N}/aqop/v1/leads/public`;try{const t=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),n=await t.json();if(!t.ok){const d=n.message||(n.code==="rate_limit_exceeded"?"Too many submissions. Please try again in 10 minutes.":"Failed to submit lead");throw new Error(d)}return n}catch(t){throw console.error("Public lead submission error:",t),t}};function S(){const[s,m]=l.useState({name:"",email:"",phone:"",whatsapp:"",country_id:"",message:""}),[t,n]=l.useState({}),[d,u]=l.useState(!1),[p,h]=l.useState(!1),[x,o]=l.useState(""),b=[{id:1,name:"Saudi Arabia"},{id:2,name:"United Arab Emirates"},{id:3,name:"Kuwait"},{id:4,name:"Qatar"},{id:5,name:"Bahrain"},{id:6,name:"Oman"},{id:7,name:"Egypt"},{id:8,name:"Jordan"},{id:9,name:"Lebanon"},{id:10,name:"Other"}],f=()=>{const a={};return s.name.trim()?s.name.trim().length<3&&(a.name="Name must be at least 3 characters"):a.name="Name is required",s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(a.email="Please enter a valid email address"):a.email="Email is required",s.phone.trim()?/^[\d\s\+\-\(\)]+$/.test(s.phone)||(a.phone="Please enter a valid phone number"):a.phone="Phone number is required",s.whatsapp&&!/^[\d\s\+\-\(\)]+$/.test(s.whatsapp)&&(a.whatsapp="Please enter a valid WhatsApp number"),n(a),Object.keys(a).length===0},i=a=>{const{name:r,value:j}=a.target;m(c=>({...c,[r]:j})),t[r]&&n(c=>({...c,[r]:""}))},g=async a=>{if(a.preventDefault(),o(""),!!f()){u(!0);try{const r={name:s.name.trim(),email:s.email.trim(),phone:s.phone.trim(),whatsapp:s.whatsapp.trim()||s.phone.trim(),country_id:s.country_id?parseInt(s.country_id):null,priority:"medium",note:s.message.trim()||"Submitted via public form"};await w(r),h(!0),m({name:"",email:"",phone:"",whatsapp:"",country_id:"",message:""})}catch(r){console.error("Form submission error:",r),r.message.includes("rate limit")?o("Too many submissions. Please try again in a few minutes."):r.message.includes("duplicate")?o("This email or phone number has already been submitted."):o("Failed to submit your information. Please try again or contact us directly.")}finally{u(!1)}}},y=()=>{h(!1),o("")};return p?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-10 w-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank You!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your information has been successfully submitted. Our team will contact you shortly."}),e.jsx("button",{onClick:y,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Submit Another Lead"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"Get In Touch"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below and our team will contact you soon"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[x&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-sm text-red-800",children:x})]})}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:i,className:`w-full px-4 py-3 border ${t.name?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"John Doe"}),t.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:i,className:`w-full px-4 py-3 border ${t.email?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"john@example.com"}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:i,className:`w-full px-4 py-3 border ${t.phone?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"+966 50 123 4567"}),t.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"whatsapp",className:"block text-sm font-medium text-gray-700 mb-1",children:["WhatsApp Number ",e.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),e.jsx("input",{type:"tel",id:"whatsapp",name:"whatsapp",value:s.whatsapp,onChange:i,className:`w-full px-4 py-3 border ${t.whatsapp?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"+966 50 123 4567"}),t.whatsapp&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.whatsapp}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"If different from phone number"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"country_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Country ",e.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),e.jsxs("select",{id:"country_id",name:"country_id",value:s.country_id,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select a country"}),b.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:["Message ",e.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),e.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:i,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us about your inquiry..."})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):e.jsxs(e.Fragment,{children:["Submit",e.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})}),e.jsx("p",{className:"text-xs text-center text-gray-500",children:"By submitting this form, you agree to be contacted by our team. We respect your privacy and will not share your information with third parties."})]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Need immediate assistance? Contact us at"," ",e.jsx("a",{href:"mailto:support@aqleeat.com",className:"text-blue-600 hover:text-blue-800 font-medium",children:"support@aqleeat.com"})]})})]})})}export{S as default};
